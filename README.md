# Транспорт через IRC

Работу выполнили: Сушков Владимир, Денис Болонин, Александр Шитов

### IRCTransport

Клиент для транспорта поверх IRC реализован на языке Go.
Код находится в директории `app/libs/goirc`, там же у методов структуры `IRCTransport` есть докстринги с небольшими пояснениями.  
**Примечание**: Данный интерфейс испытал влияние ограничений утилиты gomobile для создания биндингов. Лучше сделать не получилось

#### Пример использования

```go
client, _ := NewIRCTransport("test_user")
// Начинаем слушать сообщения от другого пользователя
client.StartReceiveMessagesFrom("another_test_user")
// Отправляем сообщение пользователю
client.SendMessages("another_test_user", "some message")
// Получаем сообщение от пользователя, от которого ранее начали слушать сообщения 
client.GetMessageFrom("another_test_user")
// Перестаем слушать сообщения от пользователя, когда перестает быть актуально. 
// Это нужно сделать, чтобы освободить оперативную память занятую под буфер для сообщений данного пользователя
client.StartReceiveMessagesFrom("another_test_user")
```

### Kotlin bindings an UI

Для того, чтобы убедиться, что транспорт, написанный на Go, может использоваться в Kotlin-окружении, была проделана работа по разработке простого UI для мобильных устройств и подключение библиотеки к нему. Для создания .aar архива, пригодного для интеграции в Kotlin-проект, была использована утилита gomobile. С её помощью Go компилировался в архив, содержащий Java-код. Далее, полученный .aar файл подключался к проекту в Android Strudio, где, после некоторых доработок, был подключен к UI. Работоспособность написанного на Kotlin UI демонстрируется тут:


https://user-images.githubusercontent.com/54375878/229274138-d2898bc5-597b-497b-8b6d-388212dce419.mp4

